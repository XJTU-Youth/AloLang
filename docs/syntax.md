# Alolang语言参考

## 词法约定

本节介绍 Alolang 程序的基本元素。 你将使用这些名为“词法元素”或“标记”的元素构造用于构造完整程序的语句、定义和声明等。 本节将讨论以下词法元素：

### 标记和字符集

程序的文本由标记和空格组成。 C++ 标记是对编译器有用的 C++ 程序的最小元素。 C++分析器识别以下类型的标记：

-关键字
-标识符
-数值、布尔和指针文本
-字符串和字符文本
-用户定义的文本
-运算符
-标点符号

标记通常由空格分隔，可以是一个或多个：

-空白
-水平或垂直制表符
-新行
-换源
-Comments

#### 基本源字符集

C++标准指定可用于源文件的基本源字符集。 若要表示这组字符之外的字符，可以通过使用通用字符名称指定其他字符。 MSVC 实现允许其他字符。 基本源字符集由可在源文件中使用的96个字符组成。 这组字符包括空白字符、水平制表符、垂直制表符、换页符和换行控制字符以及这一组图形字符：

```Alolang

a b c d e f g h i j k l m n o p q r s t u v w x y z

A B C D E F G H I J K L M N O P Q R S T U V W X Y Z

0 1 2 3 4 5 6 7 8 9

_ { } [ ] # ( ) < > % : ; . ? * + - / ^ & | ~ ! = , \ " '

```

#### 通用字符名称

由于 Alolang 程序可使用的字符要比在基本源字符集中指定的字符要多得多，所以可以通过使用 通用字符名称以可移植的方式指定这些字符。 通用字符名称由表示 Unicode 码位的字符序列组成。 采用两种形式。 使用 \UNNNNNNNN 表示形式为 U+NNNNNNNN 的 Unicode 码位，其中 NNNNNNNN 是八位的十六进制码位数字。 使用四位的 \uNNNN 表示形式为 U+0000NNNN 的 Unicode 码位。

通用字符名称可用于标识符、字符串和字符文本中。 通用字符名称不能用于表示范围 0xD800-0xDFFF 之内的代理项码位。 而应使用所需的码位；编译器会自动生成任何必需的代理项。 其他限制适用于可在标识符中使用的通用字符名称。 有关详细信息，请参阅 Identifiers 和 String and Character Literals。\

#### 执行字符集

执行字符集表示可以出现在编译的程序中的字符和字符串。 这些字符集包含源文件中允许的所有字符，还包含表示警报、backspace、回车符和 null 字符的控制字符。 执行字符集具有特定于区域设置的表示形式。

### 注释

注释是编译器忽略但对于程序员非常有用的文本。 注释通常用于批注代码以供将来参考。 编译器会将它们视为空白。 您可以使用测试中的注释来使某些代码行处于非活动状态;但是，#if/#endif 预处理器指令的工作效果更好，因为你可以包围包含注释的代码，但不能嵌套注释。

通过以下方式之一是编写 Alolang 注释：

/* （斜杠，星号）字符，后跟任何字符序列（包括新行），后跟 */ 个字符。

// （两个斜杠）字符，后跟任何字符序列。 不紧跟在反斜杠之前的新行会终止这种形式的注释。 因此，它通常称为 "单行注释"。

注释字符（`/*`、`*/`和`//`）在字符常量、字符串文本或注释中没有特殊含义。 使用第一个语法的注释无法嵌套。

### 标识符

标识符是用于表示以下内容之一的字符序列：

-对象或变量名称
-类、结构或联合名称
-枚举类型名称
-类、结构、联合或枚举的成员
-函数或类成员函数
-typedef 名称
-标签名称
-宏名称
-宏参数

允许将以下字符用作标识符的任意字符：

``` alolang
_ a b c d e f g h i j k l m
n o p q r s t u v w x y z
A B C D E F G H I J K L M
N O P Q R S T U V W X Y Z
```

允许将以下字符用作标识符中除第一个字符以外的任意字符：

``` alolang
0 1 2 3 4 5 6 7 8 9
```

标识符的第一个字符必须是字母字符（大写、小写或带下划线 ( _ ) 的字母）。 由于 Alolang 标识符区分大小写，因此 fileName 与 FileName不同。

标识符不能与关键字有完全相同的拼写和大小写。 包含关键字的标识符是合法的。 例如，Pint是一个合法标识符，即使它包含int，这是一个关键字。

使用两个顺序下划线字符 ( __ ) 在一个标识符或在单个前导下划线后跟一个大写字母，将保留用于C++中的所有作用域的实现。 由于当前或将来的保留标识符可能发生冲突，因此应避免对文件范围的名称使用一个前导下划线后跟小写字母。

### 关键字

关键字是具有特殊意义的预定义保留标识符。 它们不能用作程序中的标识符。

Alolang 保留了下列关键字。

``` alolang
begin    bool
break    case    catch    char    const    delete    continue    do    double    else    enum    end
extern    false    finally    float    for    friend    goto    if    inline    int    long    new
operator    sizeof    static    struct    switch    template    this    throw    true    try    typedef
typeid    typename    union    virtual    void    volatile    while    __cpp__
```

### 标点符号

在 Alolang 中，标点符号相对于编译器来说具有语法意义和语义含义，但是它们本身不会指定一个产生数值的操作。 某些标点符号（单独或组合）也可以是 Alolang 运算符或对预处理器很重要。
以下任意字符都被视为标点符号：

``` alolang
! % ^ & * ( ) - + = { } | ~
[ ] \ ; ' : " < > ? , . / #
```

标点符号 [] 、 （） 和 {} 必须成对出现。

### 数值、布尔文本

文本是一种直接表示值的程序元素。文本的最常用法是初始化命名变量以及将自变量传递给函数。

有时需要指示编译器如何解释某个文本或者为其赋予哪种特定类型。 你可以通过为文本追加前缀或后缀来达到此目的。 例如，前缀 0x 指示编译器将其后面的数字解释为十六进制值，例如 0x35。 U) 后缀通知编译器将值视为无符号长整型类型，如5894345ULL 中所示。 有关每个文本类型的前缀和后缀的完整列表，请参阅以下各节。

#### 整数文本

整数文本以数字开头，没有小数部分或指数。 你可以指定十进制、八进制或十六进制形式的整数文本。 它们可指定有符号类型或无符号类型以及长类型或短类型。
如果不存在前缀或后缀，则编译器将提供整型文本值类型int （64位）（如果值适合），否则它会将其类型指定为长整型（任意位）。

要指定十进制整型文本，请以非零数字作为规范的开头。要指定八进制整型文本，请以 0 作为规范的开头，后跟 0 到 7 之间的一系列数字。 在指定八进制文本时，使用数字 8 和 9 是错误做法。 要指定十六进制整型文本，请以 0x 或 0X 作为规范的开头（“x”的大小写形式并不重要），后跟 0 到 9 以及 a（或 A）到 f（或 F）之间的一系列数字。 十六进制数字 a（或 A）到 f（或 F）表示介于 10 和 15 之间的值。若要指定 long 类型，请使用 l 或 L 后缀。

数字分隔符：可以使用单引号字符（撇号）将位置值隔开，使其更易于阅读。 分隔符不会对编译产生任何影响。

#### 浮点文本

浮点文本指定必须具有小数部分的值。 这些值包含小数点（ . ），并且可包含指数。

浮点文本具有“尾数”（用于指定数字的值）、“指数”（用于指定数字的量级）和可选的后缀（用于指定文本的类型）。 指定的尾数的格式是一系列位数后跟一个句点，再后跟表示数字的小数部分的可选的一系列位数。

指数（如果有）指定数字的量级为 10 次幂，如以下示例所示：

指数可以使用 e 或 E来指定，它们具有相同的含义，后跟一个可选符号（+ 或-）和一系列数字。 如果指数存在，则整数（如 18E0）中不需要尾随的小数点。
浮点文本默认为double类型。

#### 布尔值文本

布尔值文本为true和false。

### 字符串和字符文本

#### 字符串文本

由一个或几个字符常量构成。 它由用双引号引起来的字符串表示。

#### 字符文本

由一个字符常量构成。 它由用单引号引起来的字符表示。用于字符文本的字符可以是除保留字符反斜杠（"\"）、单引号（'）或换行符之外的任何字符。 可以使用转义序列指定保留字符。 可以通过使用通用字符名称指定字符，只要类型的大小足以保留字符。

##### 编码

字符文本根据其前缀以不同的方式进行编码。

不带前缀的字符文本是普通字符文本。 包含可在执行字符集中表示的单个字符、转义序列或通用字符名称的普通字符文本值具有等于其编码在执行字符集中的数值的值。 包含多个字符、转义序列或通用字符名称的普通字符文本是一个多字符文本。 不能用执行字符集表示的多字符文本或普通字符文本的类型为int，其值是实现定义的。 有关 MSVC，请参阅下面的Microsoft 特定部分。

以 L 前缀开头的字符文本是宽字符文本。 包含单个字符、转义序列或通用字符名称的宽字符文本的值的值等于其在执行宽字符集中的编码的数值，除非字符文本在执行宽字符集，在这种情况下，该值是实现定义的。 包含多个字符、转义序列或通用字符名称的宽字符文本的值是实现定义的。 有关 MSVC，请参阅下面的Microsoft 特定部分。

以 u8 前缀开头的字符文本是 UTF-8 字符文本。 如果 UTF-8 字符文本包含一个字符、转义序列或通用字符名称，则其值等于其 ISO 10646 码位值（如果可由单个 UTF-8 代码单元表示（对应于 C0 控件和基本拉丁语）Unicode 块）。 如果值不能由单个 UTF-8 代码单元表示，则程序格式不正确。 包含多个字符、转义序列或通用字符名称的 UTF-8 字符文本格式错误。

以 u 前缀开头的字符文本是 UTF-16 字符文本。 如果 UTF-16 字符文本包含一个字符、转义序列或通用字符名称，则其值等于其 ISO 10646 码位值（如果它可由单个 UTF-16 代码单元表示（对应于基本多语言平面）). 如果值不能由单个 UTF-16 代码单元表示，则程序格式不正确。 包含多个字符、转义序列或通用字符名称的 UTF-16 字符文本格式错误。

以 U 前缀开头的字符文本是一个32字符文本。 包含一个字符、转义序列或通用字符名称的 UTF-32 字符文本的值的值等于其 ISO 10646 代码点值。 包含多个字符、转义序列或通用字符名称的32字符串格式不正确。

### 用户定义的文本

## 基本概念

## 内置类型

内置类型（也称为基本类型）由Alolang语言标准指定，并内置于编译器。 不会在任何标头文件中定义内置类型。

AloLang的所有类型和函数的默认链接性为内部链接，意为只在定义的文件内可见

Alolang的内置类型包括如下所有类型及其引用

使用cv标识符表示变量存储特征

### 基本数据类型

|名称        |关键字  |说明                |
|-----------|-------|--------------------|
|字符        |char  |应支持所有Unicode字符  |
|整数        |int   |64位整型              |
|高精整数    |long  |无限精度整数           |
|双精度浮点数 |double|                     |
|实数        |real  |可表示所有分数    待定 |
|布尔值      |bool  |                     |

### 复合数据类型

|名称        |关键字  |说明                              |
|-----------|-------|----------------------------------|
|字符串      |string |要求同char                         |
|数组        |array  |一组相同类型的数据，可嵌套，定长       |
|变长数组    |vlarray|可变长度数组                        |
|栈         |stack  |FILO数据组合                        |
|队列        |queue  |FIFO数据组合                       |
|链表        |list   |同STL的list                        |
|元组        |tuple  |由固定个数不一定相同类型的数据组成的结构|
|对          |pair   |成员数量限制为2的tuple              |
|复数        |complex|由两个real或double组成的结构，表示复数|
|四元数      |quaternion|类似complex实现的四元数          |
|矩阵        |mat    |由double组成的矩阵，支持矩阵运算      |
|向量        |vector |数学向量，使用double存储，支持向量运算 |

## 声明和定义

## 编译器预处理指令

## 内置运算符、优先级和关联性

## 表达式

## 语句

## 命名空间

## 枚举

## Unions

## 函数

## 运算符重载

## 结构体

## 引用

## 异常处理

## 断言和用户提供的消息

## 模块

## 模板

## 事件处理

## 编译器COM支持
